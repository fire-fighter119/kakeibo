<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®¶è¨ˆç°¿ã‚’ã¤ã‘ã‚‹</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #FFF3E0; /* æŸ”ã‚‰ã‹ã„ã‚ªãƒ¬ãƒ³ã‚¸ç³»ã§ãƒãƒƒãƒ—ã« */
            text-align: center;
            padding: 20px;
            color: #333;
        }
        .container {
            background-color: #FFFFFF;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            max-width: 400px;
            margin: auto;
        }
        h2 {
            color: #FF6F61; /* å…ƒæ°—ãŒå‡ºã‚‹ã‚³ãƒ¼ãƒ©ãƒ«ãƒ”ãƒ³ã‚¯ */
            font-size: 24px;
            margin-bottom: 20px;
        }
        label {
            display: block;
            font-weight: bold;
            margin: 10px 0 5px;
        }
        input, select {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 2px solid #FFAB91;
            border-radius: 10px;
            font-size: 16px;
        }
        .radio-group {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 15px;
        }
        .radio-group label {
            background-color: #FFCCBC;
            padding: 10px 15px;
            border-radius: 10px;
            cursor: pointer;
        }
        .radio-group input {
            display: none;
        }
        .radio-group input:checked + label {
            background-color: #FF6F61;
            color: white;
        }
        button {
            background-color: #FF6F61;
            color: white;
            padding: 12px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 18px;
            width: 100%;
            transition: 0.3s;
        }
        button:hover {
            background-color: #E64A19;
        }
        .view-button {
            background-color: #4DB6AC;
            margin-top: 15px;
        }
        .view-button:hover {
            background-color: #00897B;
        }
    </style>
</head>
<body>

    <div class="container">
        <h2>ğŸ“’ å®¶è¨ˆç°¿ã‚’ã¤ã‘ã‚‹</h2>

        <label for="amount">ğŸ’° ã„ãã‚‰ä½¿ã£ãŸï¼Ÿ</label>
        <input type="number" id="amount" inputmode="numeric" placeholder="é‡‘é¡ã‚’å…¥åŠ›">

        <label for="category">ğŸ“‚ ã©ã‚Œã§ã™ã‹ï¼Ÿ</label>
        <select id="category">
            <option value="é£Ÿè²»">ğŸš é£Ÿè²»</option>
            <option value="ç”Ÿæ´»é›‘è²¨">ğŸ› ç”Ÿæ´»é›‘è²¨</option>
            <option value="ç”Ÿæ´»ç”¨å“">ğŸ§´ ç”Ÿæ´»ç”¨å“</option>
            <option value="å®¶å…·ãƒ»å®¶é›»">ğŸ› å®¶å…·ãƒ»å®¶é›»</option>
            <option value="åŒ»ç™‚è²»">ğŸ¥ åŒ»ç™‚è²»</option>
            <option value="ã‚¬ã‚½ãƒªãƒ³ä»£">â›½ ã‚¬ã‚½ãƒªãƒ³ä»£</option>
            <option value="è¡£é¡">ğŸ‘— è¡£é¡</option>
            <option value="å®¶æ—è²»">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ å®¶æ—è²»</option>
            <option value="äº¤éš›è²»">ğŸ‰ äº¤éš›è²»</option>
            <option value="æ°´é“ä»£">ğŸš° æ°´é“ä»£</option>
            <option value="é›»æ°—ä»£">âš¡ é›»æ°—ä»£</option>
            <option value="ç¯æ²¹ä»£">ğŸ”¥ ç¯æ²¹ä»£</option>
            <option value="è·å ´">ğŸ¢ è·å ´</option>
            <option value="é€šä¿¡è²»">ğŸ“ é€šä¿¡è²»</option>
            <option value="æ•™è‚²è²»">ğŸ“š æ•™è‚²è²»</option>
            <option value="å‰£é“">ğŸ¥‹ å‰£é“</option>
            <option value="ãƒ†ãƒ‹ã‚¹">ğŸ¾ ãƒ†ãƒ‹ã‚¹</option>
            <option value="ä¿é™ºæ–™">ğŸ›¡ ä¿é™ºæ–™</option>
            <option value="ç¨é‡‘">ğŸ’° ç¨é‡‘</option>
            <option value="ã‹ãª">ğŸ”¤ ã‹ãª</option>
            <option value="è³‡æ ¼è©¦é¨“ãƒ»æ•™é¤Š">ğŸ“ è³‡æ ¼è©¦é¨“ãƒ»æ•™é¤Š</option>
            <option value="ã‚³ã‚¤ãƒ³ãƒ©ãƒ³ãƒ‰ãƒªãƒ¼">ğŸ§º ã‚³ã‚¤ãƒ³ãƒ©ãƒ³ãƒ‰ãƒªãƒ¼</option>
            <option value="ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°">ğŸ‘š ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°</option>
            <option value="å† å©šè‘¬ç¥­">ğŸ’’ å† å©šè‘¬ç¥­</option>
            <option value="å¯„ä»˜é‡‘">ğŸ’¸ å¯„ä»˜é‡‘</option>
            <option value="ä½å±…è²»ï¼ˆå›ºå®šè²»ï¼‰">ğŸ  ä½å±…è²»ï¼ˆå›ºå®šè²»ï¼‰</option>
            <option value="ä½å±…è²»ï¼ˆå¤‰å‹•è²»ï¼‰">ğŸ¡ ä½å±…è²»ï¼ˆå¤‰å‹•è²»ï¼‰</option>
            <option value="è»Šä¸¡è²»ï¼ˆå›ºå®šè²»ï¼‰">ğŸš— è»Šä¸¡è²»ï¼ˆå›ºå®šè²»ï¼‰</option>
            <option value="è»Šä¸¡è²»ï¼ˆå¤‰å‹•è²»ï¼‰">ğŸš™ è»Šä¸¡è²»ï¼ˆå¤‰å‹•è²»ï¼‰</option>
        </select>

        <label>âš–ï¸ ã©ã¡ã‚‰ã§ã™ã‹ï¼Ÿ</label>
        <div class="radio-group">
            <input type="radio" id="minimum" name="type" value="æœ€ä½é™">
            <label for="minimum">æœ€ä½é™</label>

            <input type="radio" id="luxury" name="type" value="ã‚†ã¨ã‚Š">
            <label for="luxury">ã‚†ã¨ã‚Š</label>
        </div>

        <label for="date">ğŸ“… ã„ã¤ä½¿ã£ãŸï¼Ÿ</label>
        <input type="date" id="date">

        <label for="note">ğŸ“ å‚™è€ƒï¼ˆä»»æ„ï¼‰</label>
        <input type="text" id="note" placeholder="ãƒ¡ãƒ¢ã‚’å…¥åŠ›">

        <button onclick="confirmAndSend()">âœ… é€ä¿¡</button>
        <button class="view-button" onclick="openKakeibo()">ğŸ“Š å®¶è¨ˆç°¿ã‚’è¦‹ã‚‹</button>
    </div>

    <script>
        // ãƒšãƒ¼ã‚¸ãŒèª­ã¿è¾¼ã¾ã‚ŒãŸæ™‚ã«æ—¥ä»˜ã‚’ä»Šæ—¥ã®æ—¥ä»˜ã«è¨­å®š
        window.onload = function() {
            const today = new Date().toISOString().split('T')[0]; // ä»Šæ—¥ã®æ—¥ä»˜ (YYYY-MM-DD)
            document.getElementById("date").value = today;
        };

        function confirmAndSend() {
            const amount = document.getElementById("amount").value;
            const category = document.getElementById("category").value;
            const type = document.querySelector('input[name="type"]:checked');
            const date = document.getElementById("date").value;
            const note = document.getElementById("note").value;
    
            if (!amount || !type || !date) {
                alert("âš ï¸ å¿…é ˆé …ç›®ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼");
                return;
            }

            // æ—¥ä»˜ã‚’"YYYYå¹´MæœˆDæ—¥"å½¢å¼ã«å¤‰æ›
            const formattedDate = formatDate(date);
    
            // ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°
            const confirmMessage = `âœ… é€ä¿¡å†…å®¹\n\nğŸ’° é‡‘é¡: ${amount}å††\nğŸ“‚ è²»ç›®: ${category}\nâš–ï¸ ç¨®é¡: ${type.value}\nğŸ“… æ—¥ä»˜: ${formattedDate}\nğŸ“ å‚™è€ƒ: ${note || "ãªã—"}\n\né€ä¿¡ã—ã¦ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ`;
    
            if (confirm(confirmMessage)) {
                sendData(amount, category, type.value, formattedDate, note);
            }
        }

        function formatDate(date) {
            const [year, month, day] = date.split("-");
            return `${year}å¹´${parseInt(month)}æœˆ${parseInt(day)}æ—¥`;
        }
    
        function sendData(amount, category, type, date, note) {
            fetch("https://script.google.com/macros/s/AKfycbzgA0PYUSJRj9n7uh043pKpMspjlM4sh5rN9elzg9VcrGKh2mNW3Q2krDIANrui7b5ItQ/exec", {
                method: "POST",
                mode: "no-cors",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ amount, category, type, date, note })
            }).then(() => {
                alert("âœ… é€ä¿¡å®Œäº†ï¼ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«è¨˜éŒ²ã—ã¾ã—ãŸã€‚");
                document.getElementById("amount").value = "";
                document.getElementById("note").value = "";
            }).catch(error => {
                console.error("é€ä¿¡ã‚¨ãƒ©ãƒ¼:", error);
                alert("âŒ é€ä¿¡å¤±æ•—ï¼ã‚‚ã†ä¸€åº¦è©¦ã—ã¦ãã ã•ã„ã€‚");
            });
        }

        function openKakeibo() {
            // ã“ã“ã«å®¶è¨ˆç°¿ã‚’è¦‹ã‚‹ãŸã‚ã®æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹å ´åˆã¯ã€ã“ã®é–¢æ•°ã«å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚
            alert("å®¶è¨ˆç°¿ã‚’è¦‹ã‚‹æ©Ÿèƒ½ã¯æœªå®Ÿè£…ã§ã™ã€‚");
        }
    </script>
</body>
</html>
